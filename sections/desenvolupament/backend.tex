\section{Backend}
\label{desenvolupament:backend}
Al llarg d'aquesta secció, farem referència a l'evolució al llarg del temps de la part servidora del projecte, encarregada de la gestió de les dades, així com de la comunicació amb serveis externs.\\
\newline Per tant, el \textit{backend} serà l'encarregat de la gestió de tot el procés d'emissió, signatura i validació de consentiments informats, enviar les dades al \textit{frontend}, rebre'n de noves, i actualitzar les existents en cas de ser necessari.\\
\newline Per tant, el que s'espera del \textit{backend} és el següent:
\begin{itemize}
    \item Generació i emissió de documents (consentiments informats)
    \item Gestió de la signatura electrònica de documents
    \item Validació de documents
\end{itemize}
\clearpage
\input{sections/desenvolupament/subseccions/back_init}
\clearpage
%Entesos el model de negoci de l'empresa i les necessitats a les quals es busca donar solució a través d'aquest Treball de Final de Grau, era necessari desenvolupar un projecte el més complet i funcional possible per tal de integrar-lo posteriorment amb la plataforma \textit{Made of Genes}.\\
%A partir de les dades proporcionades i dels diferents casos d'ús i escenaris a contemplar, es comença a dissenyar un primer esquema de model de dades i de funcionalitats.\\
%\newline Al llarg dels apartats d'aquesta secció veurem com va anar evolucionant, i quines decisions es van prendre en relació al \textit{backend} al llarg del transcurs i del desenvolupament d'aquest projecte.\\
%\newline A més, a mesura que s'avanci en l'explicació, es presentaran tant conceptes com noves parts que vagin apareixent al llarg del projecte.
%\subsection{Passos i idees inicials}
%Inicialment, tal i com s'ha esmentat diverses vegades al llarg del document, el projecte basa el seu "nucli"  amb eines oferides per unes entitats anomenades tercers de confiança.\\
%La idea inicial del projecte es la d'usar els serveis que ofereixen aquestes entitats, per tal d'externalitzar la signatura dels documents.\\
%\newline L'arquitectura resultant d'aquest objectiu esdevé en el següent esquema:\\
%\newline \textbf{\textit{Imatge esquema tercer de confiança}}\\
%\newline Com es pot veure a la imatge superior, la plataforma genera un document \textit{.pdf} corresponent a un consentiment informat, fruit de la compra d'un servei per part del pacient, o en el seu defecte la prescripció d'un servei a un pacient per part d'un  metge; aquest document es mostra al pacient a través del frontend (posteriorment la plataforma \textit{Made of Genes}). Per una altra banda, també s'enviarà al pacient a través del tercer de confiança el qual, prèviament, haurà signat, amb un certificat propi, aquest document per tal d'assegurar-ne l'autenticitat i el contingut i re-enviarà al pacient.\\
%El pacient rebrà el document i, en cas d'estar conforme amb tot el que s'hi explica, el signarà electrònicament fent ús d'un servei d'OTP que ofereix el mateix tercer de confiança.
%\\Un cop el pacient ha signat el consentiment informat, el tercer de confiança desa el consentiment signat, i en gestiona les proves de verificació en cas de ser necessàries.\\
%\newline Amb aquest full de ruta, el desenvolupament del projecte passa a ser un projecte que busca integrar un servei ofert per una companyia externa, tercer de confiança, que satisfà inicialment totes les necessitats plantejades i que suposa una càrrega de treball reduïda.\\
%\newline Pel que fa al model de dades, els canvis a realitzar dins del model actual de base de dades, és mínim.\\
%\newline \textit{\textbf{parlar sobre el model de dades}}\\
%\newline Per la seva simplicitat i les eines que oferia per facilitat la integració, es va triar \textit{Lleida.net} com a opció més viable.\\
%\textit{Lleida.net} disposa d'un seguit de llibreries en diferents llenguatges que permeten una fàcil integració del seu servei amb la plataforma, així com la possibilitat d'iniciar el flux de certificació de consentiment informats i posterior signatura per part del client, enviant un correu electrònic a una determinada compte de correu amb un assumpte pre establert.\\
%\newline El problema surt a la llum durant l'última fase del procés d'integració del mòdul desenvolupat amb el servei de \textit{Lleida.net}, quan per poder accedir al document signat, és necessari accedir-hi a través d'una plataforma pròpia del tercer de confiança; provocant així un canvi de context molt fort, i totalment inadmissible dins d'una plataforma que el que busca precisament és la unificació i homogeneïtzació dels seus serveis.\\
%\newline Aquest canvi de rumb obliga a buscar solucions que permetin satisfer les necessitats existents amb el grau de personalització desitjat, fins i tot si aquestes possibles solucions impliquen abandonar el concepte del tercer de confiança en espera d'una solució que s'ajusti més al desitjat en un primer moment.\\
%En aquesta ocasió, vistes les alternatives pel que fa a tercers de confiança i les seves possibles solucions, la possibilitat d'un canvi de tecnologia semblava d'allò més plausible.\\
%Arribats a aquest punt del desenvolupament, conceptes com \textit{Blockchain}, %\textit{OTP} i \textit{empremta digital} prenen força dins del projecte.\\
%\newline Per una banda cal substituir totes les funcionalitats que fins ara depenien íntegrament del tercer de confiança:
%\begin{itemize}
%    \item Validació del contingut del document
%    \item Signatura del document
%    \item Assegurar el no repudi 
%\end{itemize}
%I per l'altra banda dotar al nou procés de la validesa i robustesa legal necessària.\\
%La primera idea que ve al cap és la d'adquirir un certificat propi expedit per a una Autoritat Certificadora (CA) reconeguda i fer els canvis pertinents dins de la plataforma per tal de que poder treballar amb el certificat digital. El problema d'aquesta idea és que se surt del pressupost est
\input{sections/desenvolupament/subseccions/back_choices}
\clearpage
\input{sections/desenvolupament/subseccions/back_final}

